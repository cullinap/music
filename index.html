<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="stylesheet.css">
</head>
<body>
    <button id="start-btn">Start</button>
    <button id="stop-btn">Stop</button>
    <canvas id="myCanvas" width="200" height="200">
    </canvas>
</body>
    <script>

        function drawBox() {
            for (let y = 0; y < 10; ++y) {
                let startX = 100;
                for (let i = 0; i < 20; ++i) {
                        ctx.strokeRect(startX, startY, 20, 20);
                    startX += 25;
                }
                startY += 25;
            }
        }

        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');

        // go right, go down, width, height
    
        canvas.width = 1000;
        canvas.height = 1000;    
        let startY = 100;
        let startX;

        const line = {
            x1: 25,
            x2: 25,
            vx: 2,
            draw() {
                ctx.beginPath();
                ctx.moveTo(this.x1, 25);
                ctx.lineTo(this.x2, 800); // x, y
                //drawBox()
                ctx.stroke();
            }
        }

        function draw() {
            ctx.clearRect(0, 0, 1000, 1000);

            ctx.save();
            for (let y = 0; y < 10; ++y) {
                let startX = 100;
                for (let i = 0; i < 20; ++i) {
                        ctx.strokeRect(startX, startY, 20, 20);
                    startX += 25;
                }
                startY += 25;
            }
            ctx.restore();

            line.draw();
            line.x1 += line.vx;
            line.x2 += line.vx;
            if (line.x1 > 800 && line.x2 > 800) {
                line.x1 = 25;
                line.x2 = 25;
            }

            requestAnimationFrame(draw)
        }

        document.getElementById('start-btn').addEventListener('click', () => {
            requestAnimationFrame(draw);
        })

        document.getElementById('stop-btn').addEventListener('click', () => {
            //alert('here')
            console.log('here')
        })

        // canvas.addEventListener('click', (e) => {
        //     requestAnimationFrame(draw);
        // })
        
    </script>
</html>